#▄▄▄▄▄─────────────────────────▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄¦⌠#
#░░░░░      SublimeSlides      ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░s2#
#▀▀▀▀▀─────────────────────────▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀¦⌡#

#                          :yddNMh:
#                        -yMMMMMMMMm.                                                                                       ■■■
#                       :NMMMMMMMMMMh`                                ......................................................║║║.........................................................
#                      `NMMMMMMMMMMMM.                o-            /||≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡||\
#                      `dMMMMMMMMMMMM.               oM:           .||'                                                                                                                '||:
#                       +MMMMMMMMMMMN`              :Mm--`         :||                                                                                                                  ||:
#                       `oNMMMMMMMMm:            :o.dMMNNhs        :||                                                                                                                  ||:
#                         dMMMMMMMMs             yMhNMMMMMMd.      :||                                                                                                                  ||:
#                       .:hNMMMMMNy. ..`-:+-     `dMMMMMMMmh.      :||                                                                                                                  ||:
#              .:::::+shN/`.::s+:.ohhosdNNMmoo/.  /MMMMMMM/`       :||                                                                                                                  ||:
#             sNMMMMMMMMM/   /NN- `dMMMMMMMMMMMm-./NMMMMMd`        :||   $$$$$$\            $$\       $$\ $$\                          $$$$$$\  $$\ $$\       $$\                       ||:
#            :MMMMMMMMMMN.   .mm.  :NMMMMMMNhNMMNN/.:+os+`         :||  $$  __$$\           $$ |      $$ |\__|                        $$  __$$\ $$ |\__|      $$ |                      ||:
#           `dMMMMMMMMMMm    `MMs   oMMMMMMMNhMMMMh`               :||  $$ /  \__|$$\   $$\ $$$$$$$\  $$ |$$\ $$$$$$\$$$$\   $$$$$$\  $$ /  \__|$$ |$$\  $$$$$$$ | $$$$$$\   $$$$$$$\   ||:
#           hMMMMMMMMMMMm    +MMN`  `yMMhMMMMMMMMMMdy++++s:        :||  \$$$$$$\  $$ |  $$ |$$  __$$\ $$ |$$ |$$  _$$  _$$\ $$  __$$\ \$$$$$$\  $$ |$$ |$$  __$$ |$$  __$$\ $$  _____|  ||:
#          :MMMMMMMMMMMMm    mMMM+    hMMMMMMMMMMMMMMMMmd/`        :||   \____$$\ $$ |  $$ |$$ |  $$ |$$ |$$ |$$ / $$ / $$ |$$$$$$$$ | \____$$\ $$ |$$ |$$ /  $$ |$$$$$$$$ |\$$$$$$\    ||:
#         `hMMMMMMMMMMMMm    NMMMd    .MMMMMMhdmmMMMMNh.`          :||  $$\   $$ |$$ |  $$ |$$ |  $$ |$$ |$$ |$$ | $$ | $$ |$$   ____|$$\   $$ |$$ |$$ |$$ |  $$ |$$   ____| \____$$\   ||:
#         yMMMMMMMMMMMMMm    NMMMd     MMMMMM.``.-----`            :||  \$$$$$$  |\$$$$$$  |$$$$$$$  |$$ |$$ |$$ | $$ | $$ |\$$$$$$$\ \$$$$$$  |$$ |$$ |\$$$$$$$ |\$$$$$$$\ $$$$$$$  |  ||:
#        -NMMMMMMMMMMMMMm    NMMMd     MMMMMh                      :||   \______/  \______/ \_______/ \__|\__|\__| \__| \__| \_______| \______/ \__|\__| \_______| \_______|\_______/   ||:
#        /MMMMMMMMMMMMMMN.   NMMMd    -MMMMMy                      :||                                                                                                                  ||:
#       -mMMMMMMMMMMMMMMM/   NMMMd    sMMMMM/                      :||                                                                                                                  ||:
#      `mMMMMMMMMMMMMMMMM/   NMMMd   .NMMMMM-                      :||                                                                                                                  ||:
#       oMMMMMMMMMmsohMMMNh: NMMMd   dMMMMMN.                      :||                                                                                                                  ||:
#       `hMMMMMMMd`.hMMMMMMy`mMMNs  :MMMMMMh                       :||                                                                                                                  ||:
#        `+mNMMMM: /MMMMMMN- .hm:  .hMMMMMMm`                      .||.                                                                                                                .||:
#          .:/mMMo-oMMMMMNyhhhy/`+ydMMMMMMMMs                       \||≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡||/
#     .----------------------------------------------.               \..............................................║║║.....║║║.....║║║................................................./
#     |mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm|                                                             ║║║      ║║║      ║║║
#      │nnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnn│                                                             ║║║       ║║║       ║║║
#      │mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm│                                                            ║║║        ║║║        ║║║
#      │nnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnn│                                                           ║║║         ║║║         ║║║
#       \mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm/                                                           ║║║          ║║║          ║║║
#        \nnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnn/                                                           ║║║           ║║║           ║║║
#         \++++++++++++++++++++++++++++++++++++++/                                                           ║║║            ║║║            ║║║
#          │mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm│                                                           ║║║             ║║║             ║║║
#          │mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm│                                                          ║║║              ║║║              ║║║
#          │mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm│                                                         ║║║               ║║║               ║║║
#          │mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm│                                                        ║║║                ║║║                ║║║
#          │mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm│                                                       ║║║                 ║║║                 ║║║
#          │mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm│                                                      ║║║                  ║║║                  ║║║
#          │────────────────────────────────────│                                                     ■■■                   ■■■                   ■■■
#           ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾

#▄▄▄▄▄──────────────────▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄¦⌠#
#░░░░░      Import      ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░s2#
#▀▀▀▀▀──────────────────▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀¦⌡#

import sublime, sublime_plugin, re, os, subprocess

#▐▌▒▓▒▐▌═══════════════════════════════════════════════════════════════▐▌▒▓▒▐▌▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄¦⌠#
#▐▌▓▒▓▐▌                                                               ▐▌▓▒▓▐▌▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓‡#
#▐▌▒▓▒▐▌      SublimeSlidesCommand ( sublime_plugin.TextCommand )      ▐▌▒▓▒▐▌████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████c3#
#▐▌▓▒▓▐▌                                                               ▐▌▓▒▓▐▌▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓‡#
#▐▌▒▓▒▐▌═══════════════════════════════════════════════════════════════▐▌▒▓▒▐▌▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀¦⌡#

class SublimeSlidesCommand ( sublime_plugin.TextCommand ):

	def run ( self, edit, mode ):

		view = self.view

		if   mode == "Insert_Title" :     Commands.insert_Title     ( edit, view )
		elif mode == "Open_MediaLink" :   Commands.open_MediaLink   ( view )
		elif mode == "Insert_MediaLink" : Commands.insert_MediaLink ( edit, view, True )
		elif mode == "Insert_MediaFile" : Commands.insert_MediaFile ( edit, view )
		elif mode == "Toggle_MediaLink" : Commands.toggle_MediaLink ()
		elif mode == "Collapse" :         Commands.collapse_Titles  ( edit, view )
		elif mode == "Build" :            Commands.build_Titles     ( edit, view )
		elif mode == "NavigateDown" :     Commands.navigate_Content ( view, "Down" )
		elif mode == "NavigateUp" :       Commands.navigate_Content ( view, "Up" )
		elif mode == "Zoom" :             Commands.zoom_Content     ( view )
		elif mode == "Reset" :            Commands.reset_View       ( view )

#▐▌▒▓▒▐▌════════════════════▐▌▒▓▒▐▌▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄¦⌠#
#▐▌▓▒▓▐▌                    ▐▌▓▒▓▐▌▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓‡#
#▐▌▒▓▒▐▌      Commands      ▐▌▒▓▒▐▌███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████c3#
#▐▌▓▒▓▐▌                    ▐▌▓▒▓▐▌▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓‡#
#▐▌▒▓▒▐▌════════════════════▐▌▒▓▒▐▌▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀¦⌡#

class Commands ():
	#▄▄▄▄▄─────────────────────────▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄¦•⌠#
	#░░░░░      •   Variables      ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░s2#
	#▀▀▀▀▀─────────────────────────▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀¦•⌡#

	errorStart = "▌▓▓▓▓▓   @SublimeSlides: "
	errorEnd   = "   ▓▓▓▓▓▐"

	tabCharacter   = "	"
	spaceCharacter = " "

	mediaLink_DefaultTitle = "___MEDIALINK_TITLE_GOES_HERE___"
	slide_DefaultTitle     = "___SLIDE_TITLE_GOES_HERE___"

	#▓▓▓▓▓─────────────────────────────▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓¦•⌠#
	#░░░░░                             ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░‡#
	#░░░░░      •   { MediaLink }      ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░g3#
	#░░░░░                             ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░‡#
	#▓▓▓▓▓─────────────────────────────▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓¦•⌡#

		#▐▌»»▒▐▌────────────────────────────────▐▌▒««▐▌_________________________________________________________________________________________________________________________________________________¦••⌠#
		#▐▌»»▒▐▌    • •   toggle_MediaLink      ▐▌▒««▐▌░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░m2#
		#▐▌»»▒▐▌────────────────────────────────▐▌▒««▐▌‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾¦••⌡#

	def toggle_MediaLink ():

		if EventListener.mediaLink_Enabled == True:

			EventListener.mediaLink_Enabled = False
			sublime.status_message ( "SublimeSlides MediaLink:  DISABLED" )

		elif EventListener.mediaLink_Enabled == False:

			EventListener.mediaLink_Enabled = True
			sublime.status_message ( "SublimeSlides MediaLink:  ENABLED" )

		#▐▌»»▒▐▌────────────────────────────────────▐▌▒««▐▌_____________________________________________________________________________________________________________________________________________¦••⌠#
		#▐▌»»▒▐▌    • •   get_MediaLink_Region      ▐▌▒««▐▌░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░m2#
		#▐▌»»▒▐▌────────────────────────────────────▐▌▒««▐▌‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾¦••⌡#

	def get_MediaLink_Region ( view, region ):

		userSettings             = sublime.load_settings ( "SublimeSlides.sublime-settings" )
		mediaLink_Character      = userSettings.get ( "medialink_character", "" )
		mediaLink_TabAmount      = userSettings.get ( "medialink_tab_amount", "" )
		mediaLink_WrapperFill    = userSettings.get ( "medialink_wrapper_fill", "" )
		titleStart               = userSettings.get ( "title_start", "" )
		titleFill                = userSettings.get ( "title_fill", "" )
		titleEnd                 = userSettings.get ( "title_end", "" )
		commentStart, commentEnd = Commands.get_CommentCharacters ()

		region_A     = region.a
		region_B     = region.b
		regionLine_A = view.line ( region_A )
		regionText   = view.substr ( regionLine_A )

		regionText_TrimmedLeft  = regionText.lstrip ()
		regionText_TrimmedRight = regionText.rstrip ()
		trimmedLeft_Length      = len ( regionText ) - len ( regionText_TrimmedLeft )
		trimmedRight_Length     = len ( regionText ) - len ( regionText_TrimmedRight )

		mediaLink_LeftOffset = trimmedLeft_Length + len ( commentStart ) + len ( mediaLink_Character ) + len ( Commands.spaceCharacter )
		mediaLink_RightOffset = trimmedRight_Length

		if commentEnd != "":
			mediaLink_RightOffset = trimmedRight_Length + len ( Commands.spaceCharacter ) + len ( commentEnd )

		mediaLink_Region = sublime.Region ( regionLine_A.a + mediaLink_LeftOffset, regionLine_A.b - mediaLink_RightOffset )
		mediaLink_Text = view.substr ( mediaLink_Region )

		if mediaLink_Text != Commands.mediaLink_DefaultTitle:
			return ( mediaLink_Region )
		else:
			return False

		#▐▌»»▒▐▌────────────────────────────────▐▌▒««▐▌_________________________________________________________________________________________________________________________________________________¦••⌠#
		#▐▌»»▒▐▌    • •   insert_MediaLink      ▐▌▒««▐▌░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░m2#
		#▐▌»»▒▐▌────────────────────────────────▐▌▒««▐▌‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾¦••⌡#

	def insert_MediaLink ( edit, view, wrapperEnabled ):

		mediaLink_Regions = []

		userSettings             = sublime.load_settings ( "SublimeSlides.sublime-settings" )
		mediaLink_Character      = userSettings.get ( "medialink_character", "" )
		mediaLink_TabAmount      = userSettings.get ( "medialink_tab_amount", "" )
		mediaLink_WrapperFill    = userSettings.get ( "medialink_wrapper_fill", "" )
		titleStart               = userSettings.get ( "title_start", "" )
		titleFill                = userSettings.get ( "title_fill", "" )
		titleEnd                 = userSettings.get ( "title_end", "" )
		commentStart, commentEnd = Commands.get_CommentCharacters ()

		mediaLink_Title_Default = Commands.mediaLink_DefaultTitle
		mediaLink_StartText     = commentStart + mediaLink_Character + Commands.spaceCharacter
		mediaLink_Prefix        = ( Commands.tabCharacter * mediaLink_TabAmount ) + mediaLink_StartText
		mediaLink_Suffix        = Commands.spaceCharacter + mediaLink_Character

		if commentEnd != "":
			mediaLink_Suffix = mediaLink_Suffix + commentEnd

		selectedRegions = view.sel ()

		for region in selectedRegions:

			region_A                = region.a
			region_B                = region.b
			regionLine_A            = view.line ( region_A )
			regionLine_B            = view.line ( region_B )
			regionText              = view.substr ( regionLine_A ).strip ()
			cursorRow, cursorColumn = view.rowcol ( region_A )

			cursor_AtLineStart = False

			if cursorColumn == 0:
				cursor_AtLineStart = True

			invalidLine    = False
			mediaLink_Line = False

			if regionText.find ( mediaLink_Character ) >= 0 :
				mediaLink_Line = True
				invalidLine = True

			if regionText.find ( mediaLink_WrapperFill ) >= 0 : invalidLine = True
			if regionText.find ( titleStart )            >= 0 : invalidLine = True
			if regionText.find ( titleFill )             >= 0 : invalidLine = True
			if regionText.find ( titleEnd )              >= 0 : invalidLine = True
			if regionText.find ( commentStart )          >= 0 : invalidLine = True
			if regionText.find ( commentEnd )            >= 0 : invalidLine = True

			if mediaLink_Line == True:
				mediaLink_Region = Commands.get_MediaLink_Region ( view, region )
				if mediaLink_Region != False: mediaLink_Regions.append ( mediaLink_Region )
				continue

			if regionLine_A != regionLine_B \
			or invalidLine == True \
			or ( ( regionText == "" ) and ( cursor_AtLineStart == False ) ):
				continue

			if cursor_AtLineStart == True \
			and regionText == "":
				mediaLink_Title = mediaLink_Title_Default
				regionLine_A = sublime.Region ( view.line ( region.a ).a, view.line ( region.a ).b  )
			else:
				mediaLink_Title = regionText
				regionLine_A = view.line ( region.a )

			mediaLink_Text     = mediaLink_Prefix + mediaLink_Title + mediaLink_Suffix
			mediaLink_Position = regionLine_A.a + len ( mediaLink_Prefix )
			mediaLink_Region   = sublime.Region ( mediaLink_Position, mediaLink_Position + len ( mediaLink_Title ) )

			view.replace ( edit, regionLine_A, mediaLink_Text )
			mediaLink_Regions.append ( mediaLink_Region )

		view.selection.clear ()
		view.selection.add_all ( mediaLink_Regions )
		view.run_command ( "reverse_selection_direction" )
		
		if wrapperEnabled == True \
		and regionText != "":
			Commands.insert_MediaLink_Wrapper ( edit, view )

		#▐▌»»▒▐▌────────────────────────────────────────▐▌▒««▐▌_________________________________________________________________________________________________________________________________________¦••⌠#
		#▐▌»»▒▐▌    • •   insert_MediaLink_Wrapper      ▐▌▒««▐▌░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░m2#
		#▐▌»»▒▐▌────────────────────────────────────────▐▌▒««▐▌‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾¦••⌡#

	def insert_MediaLink_Wrapper ( edit, view ):

		mediaLink_Regions = []

		userSettings             = sublime.load_settings ( "SublimeSlides.sublime-settings" )
		mediaLink_Character      = userSettings.get ( "medialink_character", "" )
		mediaLink_TabAmount      = userSettings.get ( "medialink_tab_amount", "" )
		mediaLink_WrapperEnabled = userSettings.get ( "medialink_wrapper_enabled", "" )
		mediaLink_WrapperFill    = userSettings.get ( "medialink_wrapper_fill", "" )
		commentStart, commentEnd = Commands.get_CommentCharacters ()

		selectedRegions = view.sel ()

		skipItem = False

		if mediaLink_WrapperEnabled != "True" \
		or len ( selectedRegions ) == 0:
			skipItem = True

		if skipItem == False:

			mediaLink_SurroundingText_Length = len ( mediaLink_Character + Commands.spaceCharacter + mediaLink_Character )

			if commentEnd != "":
				mediaLink_SurroundingText_Length = mediaLink_SurroundingText_Length + len ( Commands.spaceCharacter )

			for region in selectedRegions:

				region_A          = region.a
				regionLine_A      = view.line ( region )
				regionText        = view.substr ( region )
				regionText_Length = len ( regionText )

				if ( regionText == Commands.mediaLink_DefaultTitle ):
					continue

				mediaLink_WrapperLine_Text = \
					( Commands.tabCharacter * mediaLink_TabAmount )                                      + \
					commentStart                                                                         + \
					( mediaLink_WrapperFill * ( regionText_Length + mediaLink_SurroundingText_Length ) ) + \
					commentEnd

				view.insert ( edit, regionLine_A.a, mediaLink_WrapperLine_Text + "\n" )
				view.insert ( edit, regionLine_A.a, mediaLink_WrapperLine_Text + "\n" )

			view.run_command ( "swap_line_up" )

		#▐▌»»▒▐▌────────────────────────────────▐▌▒««▐▌_________________________________________________________________________________________________________________________________________________¦••⌠#
		#▐▌»»▒▐▌    • •   insert_MediaFile      ▐▌▒««▐▌░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░m2#
		#▐▌»»▒▐▌────────────────────────────────▐▌▒««▐▌‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾¦••⌡#

	def insert_MediaFile ( edit, view ):

		userSettings             = sublime.load_settings ( "SublimeSlides.sublime-settings" )
		mediaPath_TabAmount      = userSettings.get ( "mediapath_tab_amount", "" )
		mediaLink_Character      = userSettings.get ( "medialink_character", "" )
		commentStart, commentEnd = Commands.get_CommentCharacters ()

		filePath_Text = "\n" + ( Commands.tabCharacter * mediaPath_TabAmount ) + commentStart + "@ ___FILEPATH_GOES_HERE___ " + commentEnd
		Commands.insert_MediaLink ( edit, view, False )

		selectedRegions = view.sel ()

		mediaLink_RightOffset = 0
		
		if commentEnd != "":
			mediaLink_RightOffset = len ( Commands.spaceCharacter ) + len ( mediaLink_Character ) + len ( commentEnd ) 
			
		for region in selectedRegions:
			newLine_Position = region.a + mediaLink_RightOffset # Use A instead of B ( selection is reversed @ insert_MediaLink )
			view.insert ( edit, newLine_Position, filePath_Text )

		#▐▌»»▒▐▌──────────────────────────────▐▌▒««▐▌___________________________________________________________________________________________________________________________________________________¦••⌠#
		#▐▌»»▒▐▌    • •   open_MediaLink      ▐▌▒««▐▌░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░m2#
		#▐▌»»▒▐▌──────────────────────────────▐▌▒««▐▌‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾¦••⌡#

	def open_MediaLink ( view ):

		application   = ""
		fileExtension = ""

			#═════      • • •   Load Settings      ═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════⌠¦•••s1⌡#

		userSettings        = sublime.load_settings ( "SublimeSlides.sublime-settings" )
		mediaLink_Character = userSettings.get ( "medialink_character", "" )
		mediaFileTypes      = userSettings.get ( "mediafile_types", [] )

			#═════      • • •   Set Comment Characters      ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════⌠¦•••s1⌡#

		commentStart, commentEnd = Commands.get_CommentCharacters ()

		fileStart_Offset = len ( commentStart ) + len ( "@" )
		fileEnd_Offset   = len ( commentEnd )

			#═════      • • •   Check For Selections      ════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════⌠¦•••s1⌡#

		selectedRegions = view.sel ()

		if len ( selectedRegions ) == 0:
			return

			#═════      • • •   Get Selected Text      ═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════⌠¦•••s1⌡#

		cursorSelection         = selectedRegions [0]
		cursorPoint_A           = cursorSelection.a
		cursorPoint_B           = cursorSelection.b
		cursorLine_A            = view.line ( cursorSelection.a )
		cursorLine_Text         = view.substr ( cursorLine_A )
		cursorRow, cursorColumn = view.rowcol ( cursorPoint_A )

			#═════      • • •   Get MediaLink      ═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════⌠¦•••s1⌡#

		mediaLink_RegEx = re.compile ( ".*" + commentStart + "\\" + mediaLink_Character + ".*" + mediaLink_Character )
		mediaLink_Start = cursorLine_Text.find ( commentStart + mediaLink_Character + Commands.spaceCharacter )
		mediaLink_End   = cursorLine_Text.rfind ( Commands.spaceCharacter + mediaLink_Character + commentEnd )

		mediaLinkPrefix = commentStart + mediaLink_Character + Commands.spaceCharacter
		mediaLinkSuffix = Commands.spaceCharacter + mediaLink_Character
		
		if commentEnd != "":
			mediaLinkSuffix = mediaLinkSuffix + commentEnd
			
		mediaLink_LeftOffset  = len ( mediaLinkPrefix )
		mediaLink_RightOffset = len ( mediaLinkSuffix )
		
		cursorLine_MediaLink = cursorLine_Text [ mediaLink_Start : mediaLink_End + mediaLink_RightOffset ]
		cursorLine_Offset    = len ( cursorLine_Text ) - len ( cursorLine_MediaLink )

			# ? ? ?     • • •   Verify MediaLink Selection      ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ⌠¦•••i1⌡#
			
		if cursorColumn <= mediaLink_Start + mediaLink_LeftOffset \
		or cursorColumn >= mediaLink_End:
			return

		if not re.match ( mediaLink_RegEx, cursorLine_Text ) \
		or mediaLink_Start == -1 \
		or cursorPoint_A != cursorPoint_B:
			return

			#═════      • • •   Find MediaLink FilePath      ═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════⌠¦•••s1⌡#

		mediaFile_Path    = ""
		
		mediaFile_Regions = Commands.find_MediaFiles ( view )

		for region in mediaFile_Regions:
			
			region_A               = region.a
			regionLine_A           = view.line ( region_A )
			mediaLink_Text         = view.substr ( regionLine_A )
			trimmed_MediaLink_Text = mediaLink_Text.lstrip ()

			mediaLink_PathLine     = view.line ( region.b )
			mediaLink_Path         = view.substr ( mediaLink_PathLine )
			trimmed_MediaLink_Path = mediaLink_Path.lstrip ()

			if trimmed_MediaLink_Text == cursorLine_MediaLink:
				mediaFile_Path = trimmed_MediaLink_Path
				break

		if mediaFile_Path == "":
			# print ( Commands.errorStart + "\"" + cursorLine_MediaLink + "\"" + " MediaLink not found" + Commands.errorEnd )
			return

		trimmed_MediaFile_Path = mediaFile_Path [ fileStart_Offset : len ( mediaFile_Path ) ].lstrip ()

		whitespaceOffset = \
			( len ( mediaFile_Path ) - len ( trimmed_MediaFile_Path ) )   \
			+ ( len ( mediaLink_Path ) - len ( trimmed_MediaLink_Path ) ) \
			- fileStart_Offset

			#═════      • • •   Set MediaLink FilePath      ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════⌠¦•••s1⌡#
		
		filePath_Region = sublime.Region ( mediaLink_PathLine.a + fileStart_Offset + whitespaceOffset, mediaLink_PathLine.b - fileEnd_Offset )
		nextLine_Region = sublime.Region ( mediaLink_PathLine.b + 1, mediaLink_PathLine.b + 1 )
		filePath        = view.substr ( filePath_Region )
		filePath_Length = len ( filePath )

		filePath = filePath.rstrip ()
		filePath = filePath.replace ( "\"", "" )
		filePath = filePath.replace ( "'", "" )
		
		filePath_StrippedLength = filePath_Length - len ( filePath )
		filePath_Length         = filePath_Length - filePath_StrippedLength
		filePath_Region         = sublime.Region ( filePath_Region.a, filePath_Region.b - filePath_StrippedLength )

		fileExtension_Index = filePath.rfind ( "." )

		if fileExtension_Index == -1:
			# print ( Commands.errorStart + "\"" + filePath + "\"" + " has no file extension" + Commands.errorEnd )
			return

		fileExtension = filePath [ fileExtension_Index : filePath_Length ]

			# ? ? ?     • • •   Verify File      ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?⌠¦•••i1⌡#

		fileExists = os.path.exists ( filePath )

		if not fileExists:
			# print ( Commands.errorStart + "\"" + filePath + "\"" + " does not exist" + Commands.errorEnd )
			return

			#═════      • • •   Set Application      ═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════⌠¦•••s1⌡#

		for fileType in mediaFileTypes:

			typeExtensions = mediaFileTypes [ fileType ] [ "extensions" ]

			for typeExtension in typeExtensions:

				if fileExtension == "." + typeExtension:
					application = mediaFileTypes [ fileType ] [ "application" ]

			# ? ? ?     • • •   Verify Application      ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ⌠¦•••i1⌡#

		applicationExists = os.path.exists ( application )

		if application == "" \
		or not applicationExists:
			# print ( Commands.errorStart + "\"" + application + "\"" + " does not exist" + Commands.errorEnd )
			return

			# ? ? ?     • • •   Load Media File      ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?⌠¦•••i1⌡#
				
		selectionRegion_A = cursorLine_A.a + mediaLink_Start + mediaLink_LeftOffset
		selectionRegion_B = selectionRegion_A + ( len ( mediaLink_Text ) - ( mediaLink_LeftOffset + mediaLink_RightOffset ) ) - 1;
		
		selectionRegion = sublime.Region ( selectionRegion_A, selectionRegion_B )
		view.selection.clear ()
		view.selection.add ( selectionRegion )

		cmd = [ application, filePath ]
		subprocess.Popen ( cmd, stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.PIPE, startupinfo=subprocess.STARTUPINFO (), shell=False, creationflags=subprocess.SW_HIDE )

	#▓▓▓▓▓──────────────────────────▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓¦•⌠#
	#░░░░░                          ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░‡#
	#░░░░░      •   { Titles }      ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░g3#
	#░░░░░                          ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░‡#
	#▓▓▓▓▓──────────────────────────▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓¦•⌡#

		#▐▌»»▒▐▌────────────────────────────▐▌▒««▐▌_____________________________________________________________________________________________________________________________________________________¦••⌠#
		#▐▌»»▒▐▌    • •   insert_Title      ▐▌▒««▐▌░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░m2#
		#▐▌»»▒▐▌────────────────────────────▐▌▒««▐▌‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾¦••⌡#

	def insert_Title ( edit, view ):

		userSettings             = sublime.load_settings ( "SublimeSlides.sublime-settings" )
		mediaLink_Character      = userSettings.get ( "medialink_character", "" )
		mediaLink_TabAmount      = userSettings.get ( "medialink_tab_amount", "" )
		mediaLink_WrapperFill    = userSettings.get ( "medialink_wrapper_fill", "" )
		titleStart               = userSettings.get ( "title_start", "" )
		titleFill                = userSettings.get ( "title_fill", "" )
		titleEnd                 = userSettings.get ( "title_end", "" )
		commentStart, commentEnd = Commands.get_CommentCharacters ()

		slideTitle_Regions = []

		selectedRegions = view.sel ()

		for region in selectedRegions:

			region_A                = region.a
			regionLine_A            = view.line ( region_A )
			regionText              = view.substr ( regionLine_A ).strip ()
			cursorRow, cursorColumn = view.rowcol ( region_A )

			cursor_AtLineStart = False

			if cursorColumn == 0:
				cursor_AtLineStart = True

			if cursor_AtLineStart == True \
			and regionText == "":
				slideTitle = Commands.slide_DefaultTitle
			else:
				slideTitle = regionText

			invalidLine    = False

			if regionText.find ( mediaLink_Character )   >= 0 : invalidLine = True
			if regionText.find ( mediaLink_WrapperFill ) >= 0 : invalidLine = True
			if regionText.find ( titleStart )            >= 0 : invalidLine = True
			if regionText.find ( titleFill )             >= 0 : invalidLine = True
			if regionText.find ( titleEnd )              >= 0 : invalidLine = True
			if regionText.find ( commentStart )          >= 0 : invalidLine = True
			if regionText.find ( commentEnd )            >= 0 : invalidLine = True

			if invalidLine == True:
				continue

			titleLine_Text = Commands.add_TitleMarkers ( slideTitle, "Text", "Single" )
			titleOffset    = Commands.add_TitleMarkers ( slideTitle, "Offset", "Single" )

			view.replace ( edit, regionLine_A, titleLine_Text )

			regionLine_A  = view.line ( region_A )
			titlePosition = regionLine_A.a + titleOffset
			titleRegion = sublime.Region ( titlePosition, titlePosition + len ( slideTitle ) )
			slideTitle_Regions.append ( titleRegion )

		view.selection.clear ()
		view.selection.add_all ( slideTitle_Regions )
		view.run_command ( "reverse_selection_direction" )

		#▐▌»»▒▐▌────────────────────────────▐▌▒««▐▌_____________________________________________________________________________________________________________________________________________________¦••⌠#
		#▐▌»»▒▐▌    • •   build_Titles      ▐▌▒««▐▌░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░m2#
		#▐▌»»▒▐▌────────────────────────────▐▌▒««▐▌‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾¦••⌡#

	def build_Titles ( edit, view ):

		view.run_command ( "unfold_all" )

		titleRegions = Commands.find_CollapsedTitles ( view )

		for titleRegion in reversed ( titleRegions ):

			lineText  = view.substr ( titleRegion )
			titleText = Commands.add_TitleMarkers ( lineText, "Text", "Build" )

			view.replace ( edit, titleRegion, titleText )

		#▐▌»»▒▐▌───────────────────────────────▐▌▒««▐▌__________________________________________________________________________________________________________________________________________________¦••⌠#
		#▐▌»»▒▐▌    • •   collapse_Titles      ▐▌▒««▐▌░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬m2#
		#▐▌»»▒▐▌───────────────────────────────▐▌▒««▐▌‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾¦••⌡#

	def collapse_Titles ( edit, view ):

		view.run_command ( "unfold_all" )

		titleRegions = Commands.find_FullTitles ( view )

		for titleRegion in reversed ( titleRegions ):

			lineText  = view.substr ( titleRegion )
			titleText = Commands.remove_TitleMarkers ( lineText )

			view.replace ( edit, titleRegion, titleText )

	#▓▓▓▓▓──────────────────────────────▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓¦•⌠#
	#░░░░░                              ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░‡#
	#░░░░░      •   { Navigation }      ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░g3#
	#░░░░░                              ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░‡#
	#▓▓▓▓▓──────────────────────────────▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓¦•⌡#

		#▐▌»»▒▐▌────────────────────────────────▐▌▒««▐▌_________________________________________________________________________________________________________________________________________________¦••⌠#
		#▐▌»»▒▐▌    • •   navigate_Content      ▐▌▒««▐▌░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░m2#
		#▐▌»»▒▐▌────────────────────────────────▐▌▒««▐▌‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾¦••⌡#

	def navigate_Content ( view, direction ):

		documentStart  = 0
		documentEnd    = view.size ()
		documentRegion = sublime.Region ( documentStart, documentEnd )

		contentRegions      = Commands.find_Content ( view, "All" )
		contentRegion_Count = len ( contentRegions )

		if contentRegion_Count <= 0:
			return

		foldedRegions      = view.unfold ( documentRegion )
		foldedRegion_Count = len ( foldedRegions )

			#═════      • • •   Find Visible Region      ═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════⌠¦•••s1⌡#

		if foldedRegion_Count == 2:
			visibleRegion = sublime.Region ( foldedRegions [0].b + 1, foldedRegions [1].a )
		elif foldedRegion_Count == 1 \
		and foldedRegions [0].a == documentStart:
			visibleRegion = sublime.Region ( foldedRegions [0].b + 1, documentEnd )
		elif foldedRegion_Count == 1 \
		and foldedRegions [0].b == documentEnd:
			visibleRegion = sublime.Region ( documentStart, foldedRegions [0].a )
		elif foldedRegion_Count == 0 \
		or foldedRegion_Count > 2:
			Commands.reset_View ( view )
			Commands.zoom_Content ( view )

			#═════      • • •   Find Next Region      ════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════⌠¦•••s1⌡#

		contentIndex        = 0
		visibleRegion_Index = 0
		newRegion           = sublime.Region ( 0, 0 )

		for region in  contentRegions:
			if region == visibleRegion:
				visibleRegion_Index = contentIndex
			contentIndex = contentIndex + 1

		if visibleRegion_Index + 1 < contentRegion_Count \
		and direction == "Down":
			newRegion = contentRegions [visibleRegion_Index + 1]
			view.selection.clear ()
			view.selection.add ( newRegion.a )
			Commands.zoom_Content ( view )

		elif visibleRegion_Index - 1 >= 0 \
		and direction == "Up":
			newRegion = contentRegions [visibleRegion_Index - 1]
			view.selection.clear ()
			view.selection.add ( newRegion.a )
			Commands.zoom_Content ( view )

		else:
			view.fold ( foldedRegions )

		view.set_viewport_position ( [ 0, 0 ], animate = False )

		#▐▌»»▒▐▌────────────────────────────▐▌▒««▐▌_____________________________________________________________________________________________________________________________________________________¦••⌠#
		#▐▌»»▒▐▌    • •   zoom_Content      ▐▌▒««▐▌░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░m2#
		#▐▌»»▒▐▌────────────────────────────▐▌▒««▐▌‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾¦••⌡#

	def zoom_Content ( view ):

		documentStart  = 0
		documentEnd    = view.size ()
		documentRegion = sublime.Region ( documentStart, documentEnd )

		contentRegion   = Commands.find_Content ( view, "Single" )
		contentRegion_A = contentRegion.a
		contentRegion_B = contentRegion.b

		if contentRegion_A == -1 \
		or contentRegion_B == -1:
			return

		view.unfold ( documentRegion )

		if contentRegion_A != documentStart \
		and contentRegion_A > documentStart:
			foldRegion = sublime.Region ( documentStart, contentRegion_A - 1 )
			view.fold ( foldRegion )

		if contentRegion_B != documentEnd \
		and contentRegion_B < documentEnd:
			foldRegion = sublime.Region ( contentRegion_B, documentEnd )
			view.fold ( foldRegion )

		view.selection.clear ()
		view.selection.add ( contentRegion_A )

		#▐▌»»▒▐▌──────────────────────────▐▌▒««▐▌_______________________________________________________________________________________________________________________________________________________¦••⌠#
		#▐▌»»▒▐▌    • •   reset_View      ▐▌▒««▐▌░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░m2#
		#▐▌»»▒▐▌──────────────────────────▐▌▒««▐▌‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾¦••⌡#

	def reset_View ( view ):

		view.run_command ( "unfold_all" )
		view.set_viewport_position ( [ 0, 0 ], animate = False )

		view.selection.clear ()
		view.selection.add ( 0 )

	#▓▓▓▓▓───────────────────────────▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓¦•⌠#
	#░░░░░                           ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░‡#
	#░░░░░      •   { Finders }      ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░g3#
	#░░░░░                           ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░‡#
	#▓▓▓▓▓───────────────────────────▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓¦•⌡#

		#▐▌»»▒▐▌────────────────────────────▐▌▒««▐▌_____________________________________________________________________________________________________________________________________________________¦••⌠#
		#▐▌»»▒▐▌    • •   find_Content      ▐▌▒««▐▌░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░m2#
		#▐▌»»▒▐▌────────────────────────────▐▌▒««▐▌‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾¦••⌡#

	def find_Content ( view, findMode ):

		contentRegion = sublime.Region ( 0, 0 )

		userSettings  = sublime.load_settings ( "SublimeSlides.sublime-settings" )
		titleStart    = userSettings.get ( "title_start", "" )
		titleEnd      = userSettings.get ( "title_end", "" )

		commentStart, commentEnd = Commands.get_CommentCharacters ()

		content_RegEx = \
			"(" + commentStart + titleStart + ")"       + \
			"("                                         + \
				"("                                       + \
					"([\\S\\s]*?)"                          + \
					"(?=" + commentStart + titleStart + ")" + \
				")"                                       + \
				"|"                                       + \
				"([\\S\\s]*)"                             + \
			")"

		cursorSelection = view.sel () [0]
		cursorLine_A    = view.line ( cursorSelection.a )

		if findMode == "Single":
			contentRegion = view.find ( content_RegEx, cursorLine_A.a )
		elif findMode == "All":
			contentRegion = view.find_all ( content_RegEx )

		return ( contentRegion )

		#▐▌»»▒▐▌───────────────────────────────▐▌▒««▐▌__________________________________________________________________________________________________________________________________________________¦••⌠#
		#▐▌»»▒▐▌    • •   find_FullTitles      ▐▌▒««▐▌░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬m2#
		#▐▌»»▒▐▌───────────────────────────────▐▌▒««▐▌‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾¦••⌡#

	def find_FullTitles ( view ):

		userSettings  = sublime.load_settings ( "SublimeSlides.sublime-settings" )
		titleStart    = userSettings.get ( "title_start", "" )
		titleFill     = userSettings.get ( "title_fill", "" )
		titleEnd      = userSettings.get ( "title_end", "" )

		commentStart, commentEnd = Commands.get_CommentCharacters ()

		title_RegEx = \
			"(" + commentStart + titleStart + ")" + \
			"(" + titleFill + "*" + "\S*)"        + \
			"(.*)"                                + \
			"(\S*" + titleFill + "*)"             + \
			"(" + titleEnd + commentEnd + ")"

		titleRegions = view.find_all ( title_RegEx )
		return ( titleRegions )

		#▐▌»»▒▐▌────────────────────────────────────▐▌▒««▐▌_____________________________________________________________________________________________________________________________________________¦••⌠#
		#▐▌»»▒▐▌    • •   find_CollapsedTitles      ▐▌▒««▐▌░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░m2#
		#▐▌»»▒▐▌────────────────────────────────────▐▌▒««▐▌‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾¦••⌡#

	def find_CollapsedTitles ( view ):

		userSettings  = sublime.load_settings ( "SublimeSlides.sublime-settings" )
		titleStart    = userSettings.get ( "title_start", "" )
		titleFill     = userSettings.get ( "title_fill", "" )

		commentStart, commentEnd = Commands.get_CommentCharacters ()

		title_RegEx = \
			"(" + commentStart + titleStart + ")" + \
			"(" + titleFill + "*" + "\S*)"        + \
			"(.*)"

		titleRegions = view.find_all ( title_RegEx )
		return ( titleRegions )

		#▐▌»»▒▐▌───────────────────────────────▐▌▒««▐▌__________________________________________________________________________________________________________________________________________________¦••⌠#
		#▐▌»»▒▐▌    • •   find_MediaFiles      ▐▌▒««▐▌░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬m2#
		#▐▌»»▒▐▌───────────────────────────────▐▌▒««▐▌‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾¦••⌡#

	def find_MediaFiles ( view ):

		userSettings             = sublime.load_settings ( "SublimeSlides.sublime-settings" )
		mediaLink_Character      = userSettings.get ( "medialink_character", "" )
		commentStart, commentEnd = Commands.get_CommentCharacters ()

		mediaFile_RegEx = \
			"([\\	\\ ]*" + commentStart + "\\" + mediaLink_Character + ".*" + mediaLink_Character + ".*)" + \
			"(\n[\\	\\ ]*" + commentStart + "@.*)"

		mediaFile_Regions = view.find_all ( mediaFile_RegEx )

		return ( mediaFile_Regions )

	#▓▓▓▓▓─────────────────────────────▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓¦•⌠#
	#░░░░░                             ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░‡#
	#░░░░░      •   { Utilities }      ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░g3#
	#░░░░░                             ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░‡#
	#▓▓▓▓▓─────────────────────────────▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓¦•⌡#

		#▐▌»»▒▐▌─────────────────────────────────────▐▌▒««▐▌____________________________________________________________________________________________________________________________________________¦••⌠#
		#▐▌»»▒▐▌    • •   get_CommentCharacters      ▐▌▒««▐▌░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬m2#
		#▐▌»»▒▐▌─────────────────────────────────────▐▌▒««▐▌‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾¦••⌡#

	def get_CommentCharacters ():

		commentStart = ""
		commentEnd   = ""

		userSettings      = sublime.load_settings ( "SublimeSlides.sublime-settings" )
		commentCharacters = userSettings.get ( "comment_characters", [] )

		documentExtension = sublime.active_window ().extract_variables () ["file_extension"]

		for documentType in commentCharacters:

			if commentCharacters [ documentType ] [ "extension" ] == documentExtension:

				commentStart = commentCharacters [ documentType ] [ "comment_start" ]
				commentEnd   = commentCharacters [ documentType ] [ "comment_end" ]

		return ( commentStart, commentEnd )

		#▐▌»»▒▐▌────────────────────────────────▐▌▒««▐▌_________________________________________________________________________________________________________________________________________________¦••⌠#
		#▐▌»»▒▐▌    • •   add_TitleMarkers      ▐▌▒««▐▌░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░m2#
		#▐▌»»▒▐▌────────────────────────────────▐▌▒««▐▌‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾¦••⌡#

	def add_TitleMarkers ( titleText, titleMode, addMode ):

		userSettings      = sublime.load_settings ( "SublimeSlides.sublime-settings" )
		titleStart        = userSettings.get ( "title_start", "" )
		titleFill         = userSettings.get ( "title_fill", "" )
		titleEnd          = userSettings.get ( "title_end", "" )
		title_StartLength = userSettings.get ( "title_start_length", "" )
		titlePadding      = userSettings.get ( "title_padding", "" )
		title_MaxLength   = userSettings.get ( "title_max_length", "" )

		commentStart, commentEnd = Commands.get_CommentCharacters ()

		titleText = titleText.replace ( titleStart, "" )
		titleText = titleText.replace ( titleStart, "" )
		titleText = titleText.replace ( titleStart, "" )
		titleText = titleText.replace ( titleFill, "" )
		titleText = titleText.replace ( titleEnd, "" )

		if addMode == "Build" \
		or titleText == Commands.slide_DefaultTitle:
			titleText = titleText [ len ( commentStart ) : len ( titleText ) - len ( commentEnd ) ]

		titleText = titleText.strip ()

		titlePosition = \
			len \
				(
					commentStart                      + \
					titleStart                        + \
					( titleFill * title_StartLength ) + \
					( Commands.spaceCharacter * titlePadding )
				)

		titleText = \
			commentStart                               + \
			titleStart                                 + \
			( titleFill * title_StartLength )          + \
			( Commands.spaceCharacter * titlePadding ) + \
			titleText                                  + \
			( Commands.spaceCharacter * titlePadding )

		adjusted_MaxLength = title_MaxLength - ( len ( titleText ) + len ( titleEnd ) + len ( commentEnd ) )

		titleText = \
			titleText                          + \
			( titleFill * adjusted_MaxLength ) + \
			titleEnd                           + \
			commentEnd

		if titleMode == "Text":
			return ( titleText )

		if titleMode == "Offset":
			return ( titlePosition )

		#▐▌»»▒▐▌───────────────────────────────────▐▌▒««▐▌______________________________________________________________________________________________________________________________________________¦••⌠#
		#▐▌»»▒▐▌    • •   remove_TitleMarkers      ▐▌▒««▐▌░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬░╬m2#
		#▐▌»»▒▐▌───────────────────────────────────▐▌▒««▐▌‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾¦••⌡#

	def remove_TitleMarkers ( titleText ):

		userSettings      = sublime.load_settings ( "SublimeSlides.sublime-settings" )
		titleStart        = userSettings.get ( "title_start", "" )
		titleFill         = userSettings.get ( "title_fill", "" )
		titleEnd          = userSettings.get ( "title_end", "" )
		titlePadding      = userSettings.get ( "title_padding", "" )

		commentStart, commentEnd = Commands.get_CommentCharacters ()

		titleText = titleText.replace ( titleStart, "" )
		titleText = titleText.replace ( titleStart, "" )
		titleText = titleText.replace ( titleStart, "" )
		titleText = titleText.replace ( titleFill, "" )
		titleText = titleText.replace ( titleEnd, "" )
		titleText = titleText [ len ( commentStart ) : len ( titleText ) - len ( commentEnd ) ]
		titleText = titleText.strip ()

		titleText = \
			commentStart                               + \
			titleStart                                 + \
			( Commands.spaceCharacter * titlePadding ) + \
			titleText                                  + \
			( Commands.spaceCharacter * titlePadding ) + \
			commentEnd

		return ( titleText )

#▐▌▒▓▒▐▌═════════════════════════▐▌▒▓▒▐▌▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄¦⌠#
#▐▌▓▒▓▐▌                         ▐▌▓▒▓▐▌▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓‡#
#▐▌▒▓▒▐▌      EventListener      ▐▌▒▓▒▐▌██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████c3#
#▐▌▓▒▓▐▌                         ▐▌▓▒▓▐▌▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓‡#
#▐▌▒▓▒▐▌═════════════════════════▐▌▒▓▒▐▌▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀¦⌡#

class EventListener ( sublime_plugin.EventListener ):

	mediaLink_Enabled = True

	def on_selection_modified ( self, view ):

		userSettings      = sublime.load_settings ( "SublimeSlides.sublime-settings" )
		mediaLink_OnClick_Enabled = userSettings.get ( "medialink_onclick", "" )

		if EventListener.mediaLink_Enabled == True \
		and mediaLink_OnClick_Enabled == "True":
			Commands.open_MediaLink ( view )
